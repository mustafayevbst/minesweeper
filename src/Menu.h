#pragma once
#include <SFML/Graphics.hpp>
#include <vector>
#include <string>

/**
 * @brief Класс меню для отображения и управления списком пунктов меню.
 * 
 * Поддерживает отображение, перемещение выделения вверх и вниз,
 * а также получение текущего выбранного индекса.
 */
class Menu {
public:
    /**
     * @brief Конструктор меню.
     * 
     * Инициализирует меню с заданными размерами окна и списком меток пунктов.
     * 
     * @param width Ширина окна для позиционирования пунктов.
     * @param height Высота окна для позиционирования пунктов.
     * @param labels Вектор строк (широких), которые будут отображены как пункты меню.
     */
    Menu(float width, float height, const std::vector<std::wstring>& labels);

    /**
     * @brief Отрисовать меню в заданном окне.
     * 
     * @param window Ссылка на объект окна SFML, в котором рисуется меню.
     */
    void draw(sf::RenderWindow& window);

    /**
     * @brief Переместить выделение меню вверх.
     * 
     * Если достигнут верхний пункт, выделение циклично переходит к последнему.
     */
    void moveUp();

    /**
     * @brief Переместить выделение меню вниз.
     * 
     * Если достигнут последний пункт, выделение циклично переходит к первому.
     */
    void moveDown();

    /**
     * @brief Получить индекс текущего выбранного пункта меню.
     * 
     * @return Индекс выбранного пункта (от 0 до количества пунктов - 1).
     */
    int getSelectedIndex() const;

private:
    int selectedIndex;                  ///< Индекс текущего выбранного пункта
    sf::Font font;                     ///< Шрифт для текста пунктов меню
    std::vector<sf::Text> menuItems;   ///< Вектор объектов sf::Text для пунктов меню
};
