# Сапёр

## Назначение программы

Данная программа представляет собой реализацию классической игры **«Сапёр»** на языке программирования C++ с использованием графической библиотеки **SFML**. Проект предназначен как для пользователей, желающих поиграть в Сапёра, так и для программистов — в качестве обучающего проекта по разработке графических приложений, работе с CMake, тестированию и документированию кода.

## Функциональные возможности

- Игровое поле разного размера и уровня сложности.
- Главное меню с выбором действий:
  - Старт игры.
  - Выбор уровня сложности.
  - Выход из игры.
- Отображение оставшихся мин.
- Отображение времени.
- Определение победы и поражения.
- Сохранение графики с помощью SFML.
- Поддержка кроссплатформенной сборки через CMake.
- Поддержка юнит-тестов с использованием Doctest.
- Возможность генерации документации через Doxygen.

## Установка и сборка

### Клонирование репозитория

```bash
git clone https://github.com/mustafayevbst/minesweeper.git
cd minesweeper

Необходимые зависимости
⚠️ ВНИМАНИЕ: установленная версия MinGW должна быть строго 13.1.0 (64-bit)

MinGW 13.1.0 (64-bit)
Скачать можно отсюда:
https://github.com/brechtsanders/winlibs_mingw/releases/download/13.1.0-16.0.5-11.0.0-msvcrt-r5/winlibs-x86_64-posix-seh-gcc-13.1.0-mingw-w64msvcrt-11.0.0-r5.7z

Остальные зависимости:
C++ компилятор с поддержкой C++17.

CMake 3.10+.

SFML 2.6.2 (скачать).

Doctest (для модульных тестов).

Doxygen (для генерации документации).

Сборка проекта
bash
Копировать
Редактировать
mkdir build
cd build
cmake ..
cmake --build .
Запуск
После сборки можно запустить исполняемый файл:

bash
Копировать
Редактировать
./minesweeper.exe
Основные сценарии использования
1. Запуск игры
При запуске программы отображается главное меню:

Старт — начинает новую игру.

Выбор уровня сложности — позволяет выбрать размер поля и количество мин.

Выход — завершает приложение.

2. Игровой процесс
ЛКМ — открыть ячейку.

ПКМ — поставить/убрать флаг.

При открытии всех ячеек без мин — игра считается выигранной.

При открытии ячейки с миной — игрок проигрывает.

Структура проекта
bash
Копировать
Редактировать
minesweeper/
│
├── src/
│   ├── Board.h / Board.cpp       # Игровая логика поля
│   ├── Game.h / Game.cpp         # Логика запуска игры, сцены, рендер
│   ├── Menu.h / Menu.cpp         # Главное меню
│   └── ... (остальные исходники)
│
├── assets/                       # Ресурсы (текстуры, шрифты)
│
├── tests/                        # Юнит-тесты (doctest)
│
├── docs/                         # Документация (doxygen)
│
├── CMakeLists.txt
└── README.md
Примеры кода
Board — игровая логика поля
cpp
Копировать
Редактировать
class Board {
public:
    Board(int width, int height, int mines);
    void revealTile(int x, int y);
    void toggleFlag(int x, int y);
    bool checkWin() const;
    bool isGameOver() const;
    void reset();
private:
    void generateMines();
    void calculateNumbers();
};
Game — основной цикл приложения
cpp
Копировать
Редактировать
class Game {
public:
    Game(int width, int height, int mines);
    void run();

private:
    void processEvents();
    void update();
    void render();
    
    sf::RenderWindow window_;
    Board board_;
};
Menu — главное меню
cpp
Копировать
Редактировать
class Menu {
public:
    Menu(float width, float height);
    void draw(sf::RenderWindow &window);
    void moveUp();
    void moveDown();
    int getSelectedIndex() const;
};
Примеры работы приложения
(Здесь в будущем можно добавить скриншоты работы приложения: например, главное меню, игровое поле, победа, поражение и т.д.)

Пример:



Запуск тестов
bash
Копировать
Редактировать
cd build
ctest
Генерация документации
bash
Копировать
Редактировать
doxygen Doxyfile
Документация будет сгенерирована в папке docs/html/.

Автор
mustafayevbst